@*
@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<ContentModels.ContactUs>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@using Umbraco.Cms.Core.Models.PublishedContent;
*@
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage

@{
	Layout = "Master.cshtml";
}

<div class="main">
    <h2>Contact Us</h2>
    <form id="data-form-contact">
        <label for="Name">Name:</label>
        <input type="text" name="Name" id="Name" />
        <br />

        <label for="Email">Email:</label>
        <input type="text" name="Email" id="Email"  />
        <br />

        <label for="Phone">Phone:</label>
        <input type="text" name="Phone" id="Phone"  />
        <br />

        <label for="Message">Message:</label>
        <textarea name="Message" id="Message"></textarea>
        <br />

        <input type="submit" value="Submit" onclick="SubmitForm(event)" />
    </form>
</div>


<script>
    var contactUrl = "@Url.Action("SubmitContactForm", "Contact")";

    SubmitForm = (event) => {
        event.preventDefault();
        let param = {
            Name: $("#Name").val(),
            Email: $("#Email").val(),
            Phone: $("#Phone").val(),
            Message: $("#Message").val(),
        };

        console.log("params", param);
        $.ajax({
            url: contactUrl,
            dataType: "json",
            type: "POST",
            data: param,
            success: (result) => {
                console.log(result, "rs");
            },
            error: (xhr) => {
                alert("Something went error! Pls try again!");
            }
        })
    }
</script>